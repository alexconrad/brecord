# Enable rewrite engine
RewriteEngine On

# Set the base directory
RewriteBase /

# If the request is for an actual file or directory, serve it directly
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Route all /api requests to index.php
RewriteRule ^api(/.*)?$ index.php [QSA,L]

# Prevent direct access to index.php with /api in query string (optional security)
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s/+index\.php\?.*api [NC]
RewriteRule ^ - [F]
